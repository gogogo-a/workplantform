# 无人系统云端 RAG 应用项目概览



本项目旨在构建一套高性能、企业级的**无人系统云端数据增广及信息处理软件**，核心是基于 **检索增强生成（RAG）** 技术的智能问答和内容生成系统，解决无人系统领域数据资源有限的问题，实现高维、多源信息的综合处理 1。





## 🌟 核心目标（不超过限制总结）



1. 

   **高性能知识库**：构建可扩展的云端知识库，实现每秒处理数十页数据量的知识摄取性能 2。

   

   

2. 

   **精准溯源问答**：基于领域知识库进行问答式生成，并支持生成内容与原始文档的**溯源映射**（可点击角标回显原文） 333。

   

   

3. 

   **智能人机交互**：提供多轮对话、记忆和个性化推荐等功能，实现流畅的人机交互 4。

   

   

4. 

   **高效文本生成**：支持深度推理分析、文档生成（支持 PDF/Word/txt 5）及多种编辑功能 6。

   

   



## 🛠️ 技术架构与栈



本项目采用现代微服务架构，核心技术栈如下：

| 技术层          | 组件/技术     | 作用                                                         | 核心概念                                                     |                       |
| --------------- | ------------- | ------------------------------------------------------------ | ------------------------------------------------------------ | --------------------- |
| **应用框架**    | **FastAPI**   | 高性能后端 API 服务，支持异步操作。                          | 流式返回                                                     |                       |
| **大模型框架**  | **LangChain** | 用于实现复杂的 RAG 流程、工作流编排和 ReAct 框架 7777。      | RAG, 重排序                                                  |                       |
| **大模型**      | **Ollama**    | 用于部署和管理多种国产或开源大模型 (LLM)，满足模型工具接入需求 8。 | 5-8个**发送片段** (LLM上下文)                                |                       |
| **数据存储**    | **Milvus**    |                                                              | **向量数据库**，用于存储和高速检索向量化的知识切片 9。       | 异步embedding         |
| **持久化存储**  | **MongoDB**   | 用于存储原始文档内容、文件元数据、用户及权限信息 10。        | MongoDB + Milvus                                             |                       |
| **异步处理**    | **Kafka**     |                                                              | **消息队列**，用于文档上传后，触发**异步 Embedding** 和知识库构建流程，确保高吞吐量 11。 | 卡夫卡, 异步embedding |
| **缓存/会话**   | **Redis**     | 缓存热点数据、提升检索性能，并支持**多轮对话和记忆**功能 12。 | Redis                                                        |                       |
| **部署/容器化** | **Docker**    | 实现环境隔离和快速部署，满足软件交付要求 13131313。          | Docker                                                       |                       |



## ⚙️ 关键功能流程



1. **文档上传与处理（异步）**：

   - 用户通过前端上传文档 14。

     

     

   - 文档元数据存入 **MongoDB**。

   - 

     **Kafka** 接收消息，触发异步处理服务 15。

     

     

   - 异步服务执行文本分割（切片），然后通过 **Embedding** 模型生成向量。

   - 向量存入 **Milvus**。

2. **智能问答与溯源（实时）**：

   - 用户提问经 **Redis** 检查多轮对话历史 16。

     

     

   - 问题 Embedding 后在 **Milvus** 中检索 Top K 知识切片（**发送片段 5-8 个**）。

   - 检索结果经过 **重排序** 优化后，与问题一同送入 LLM。

   - LLM 基于上下文生成答案，并在引用处自动插入**溯源**角标 17。

     

     

   - **流式返回** 答案给用户，优化体验。

3. **溯源回显**：

   - 用户点击角标后，系统根据元数据从 **MongoDB** 中调取并展示对应的**原文片段** 18。